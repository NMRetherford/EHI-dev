<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project activeEnvironment="Default" name="Testing" soapui-version="5.0.0" abortOnError="false" runType="SEQUENTIAL" resourceRoot="" defaultScriptLanguage="Groovy" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.actions.iface.tools.soapui.TestRunnerAction@values-local"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Environment" value="Default"/>
  <con:entry key="Global Properties" value=""/>
  <con:entry key="TestSuite" value="MBX/Flex Add hoc"/>
  <con:entry key="Password" value=""/>
  <con:entry key="TestRunner Path" value=""/>
  <con:entry key="Tool Args" value=""/>
  <con:entry key="Ignore Errors" value="false"/>
  <con:entry key="Host:Port" value=""/>
  <con:entry key="user-settings.xml Password" value=""/>
  <con:entry key="WSS Password Type" value=""/>
  <con:entry key="Save Project" value="false"/>
  <con:entry key="Enable UI" value="false"/>
  <con:entry key="System Properties" value=""/>
  <con:entry key="Domain" value=""/>
  <con:entry key="Coverage Report" value="false"/>
  <con:entry key="Export JUnit Results" value="false"/>
  <con:entry key="Open Report" value="false"/>
  <con:entry key="Project Properties" value=""/>
  <con:entry key="Export All" value="false"/>
  <con:entry key="Project Password" value=""/>
  <con:entry key="Report Format(s)" value=""/>
  <con:entry key="TestCase" value="&lt;all>"/>
  <con:entry key="Print Report" value="false"/>
  <con:entry key="Username" value=""/>
  <con:entry key="Root Folder" value=""/>
  <con:entry key="Save After" value="false"/>
  <con:entry key="Add Settings" value="false"/>
  <con:entry key="Endpoint" value=""/>
  <con:entry key="Select Report Type" value=""/>
</xml-fragment>]]></con:setting></con:settings><con:testSuite name="MBX/Flex Add hoc"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="List of Vehicles and Last known status" searchProperties="true" id="2e37bbc5-4458-4d09-b38e-b4f63f59a991"><con:settings/><con:testStep type="httprequest" name="Send Request"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="Send Request" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#TestSuite#EndPoint}/api/VehicleManagement/1.0/Vehicles</con:endpoint><con:request/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>(//*[local-name()='VIN'])[1]</path><content/><allowWildcards>true</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="VIN"><con:configuration><path>(//*[local-name()='VIN'])[1]</path><content>*</content><allowWildcards>true</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Locate" searchProperties="true" id="6eb34a5f-3959-40c7-94e7-20a51f91395e"><con:settings/><con:testStep type="httprequest" name="Locate"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="Locate" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#TestSuite#EndPoint}/api/VehicleManagement/1.0/Vehicle/Locate?VIN=${#TestSuite#Vin.Registered}</con:endpoint><con:request/><con:credentials><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="transfer" name="Determine Correlation ID"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="true" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>CorrelationId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Locate</con:sourceStep><con:sourcePath>(//*[local-name()='RequestId'])[1]</con:sourcePath><con:targetType>CorrelationId</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="httprequest" name="Get Response"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="Get Response" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#TestSuite#EndPoint}/api/VehicleManagement/1.0/Request/${#TestCase#CorrelationId}/RequestStatus</con:endpoint><con:request/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>boolean(/*[local-name()='Response']/*[local-name()='RequestType']/text())</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="transfer" name="Determine Status"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>PendingState</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Response</con:sourceStep><con:sourcePath>(//*[local-name()='RequestStateName'])[1]</con:sourcePath><con:targetType>CurrentState</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Wait for Completion"><con:settings/><con:config><script>if (context.limit-- == 0) {
  assert false
}

if (testRunner.testCase.getPropertyValue("CurrentState") == 'Pending')
{ 
  sleep(2000 + (5 - context.limit) * 720)
  log.info " - must make another Polling Request (${context.limit} requests remaining) for response to '${testRunner.testCase.getName()}' request; latest RequestId = '${testRunner.testCase.getPropertyValue("CorrelationId")}'"
  testRunner.gotoStepByName("Get Response")
}
else
{
  log.info " - got SUCCESS for '${testRunner.testCase.getName()}' with CorrelationID = '${testRunner.testCase.getPropertyValue("CorrelationId")}'"
  assert true
}</script></con:config></con:testStep><con:setupScript>context.limit = 5</con:setupScript><con:properties><con:property><con:name>CorrelationId</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">2144</con:value></con:property><con:property><con:name>CurrentState</con:name><con:value>Success</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Last Known Status" searchProperties="true" id="170c1f11-2025-498b-8a6e-eacffa6704f1"><con:settings/><con:testStep type="httprequest" name="Send Request"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="Send Request" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#TestSuite#EndPoint}/api/VehicleManagement/1.0/Vehicle/LastKnownStatus?VIN=${#TestSuite#Vin.Registered}</con:endpoint><con:request/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>(//*[local-name()='OperationalMode'])[1]</path><content>0</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Unlock" searchProperties="true" id="3231e826-4c02-4853-9e3d-e52bc3dc7fb5"><con:settings/><con:testStep type="httprequest" name="Send Unlock"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="Send Unlock" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#TestSuite#EndPoint}/api/VehicleManagement/1.0/Vehicle/Unlock?VIN=${#TestSuite#Vin.Registered}</con:endpoint><con:request/><con:credentials><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="transfer" name="Determine Correlation ID"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="true" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>CorrelationId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Send Unlock</con:sourceStep><con:sourcePath>(//*[local-name()='RequestId'])[1]</con:sourcePath><con:targetType>CorrelationId</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="httprequest" name="Get Response"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="Get Response" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#TestSuite#EndPoint}/api/VehicleManagement/1.0/Request/${#TestCase#CorrelationId}/RequestStatus</con:endpoint><con:request/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>boolean(/*[local-name()='Response']/*[local-name()='RequestType']/text())</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="transfer" name="Determine Status"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>PendingState</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Response</con:sourceStep><con:sourcePath>(//*[local-name()='RequestStateName'])[1]</con:sourcePath><con:targetType>CurrentState</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Wait for Completion"><con:settings/><con:config><script>if (context.limit-- == 0) {
  assert false
}

if (testRunner.testCase.getPropertyValue("CurrentState") == 'Pending')
{ 
  sleep(2000 + (5 - context.limit) * 720)
  log.info " - must make another Polling Request (${context.limit} requests remaining) for response to '${testRunner.testCase.getName()}' request; latest RequestId = '${testRunner.testCase.getPropertyValue("CorrelationId")}'"
  testRunner.gotoStepByName("Get Response")
}
else
{
  log.info " - got SUCCESS for '${testRunner.testCase.getName()}' with CorrelationID = '${testRunner.testCase.getPropertyValue("CorrelationId")}'"
  assert true
}</script></con:config></con:testStep><con:setupScript>context.limit = 5</con:setupScript><con:properties><con:property><con:name>CorrelationId</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">2145</con:value></con:property><con:property><con:name>CurrentState</con:name><con:value>Success</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Lock" searchProperties="true" id="5551aa71-ce4d-4764-bc22-9282e39a1f0d"><con:settings/><con:testStep type="httprequest" name="Send Lock"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="Send Lock" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#TestSuite#EndPoint}/api/VehicleManagement/1.0/Vehicle/Lock?VIN=${#TestSuite#Vin.Registered}</con:endpoint><con:request/><con:credentials><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="transfer" name="Determine Correlation ID"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="true" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>CorrelationId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Send Lock</con:sourceStep><con:sourcePath>(//*[local-name()='RequestId'])[1]</con:sourcePath><con:targetType>CorrelationId</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="httprequest" name="Get Response"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="Get Response" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#TestSuite#EndPoint}/api/VehicleManagement/1.0/Request/${#TestCase#CorrelationId}/RequestStatus</con:endpoint><con:request/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>boolean(/*[local-name()='Response']/*[local-name()='RequestType']/text())</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="transfer" name="Determine Status"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>PendingState</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Response</con:sourceStep><con:sourcePath>(//*[local-name()='RequestStateName'])[1]</con:sourcePath><con:targetType>CurrentState</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Wait for Completion"><con:settings/><con:config><script>if (context.limit-- == 0) {
  assert false
}

if (testRunner.testCase.getPropertyValue("CurrentState") == 'Pending')
{ 
  sleep(2000 + (10 - context.limit) * 720)
  log.info " - must make another Polling Request (${context.limit} requests remaining) for response to '${testRunner.testCase.getName()}' request; latest RequestId = '${testRunner.testCase.getPropertyValue("CorrelationId")}'"
  testRunner.gotoStepByName("Get Response")
}
else
{
  log.info " - got SUCCESS for '${testRunner.testCase.getName()}' with CorrelationID = '${testRunner.testCase.getPropertyValue("CorrelationId")}'"
  assert true
}</script></con:config></con:testStep><con:setupScript>context.limit = 5</con:setupScript><con:properties><con:property><con:name>CorrelationId</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">2147</con:value></con:property><con:property><con:name>CurrentState</con:name><con:value>Success</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Locate" searchProperties="true" id="8f669d61-e235-4c19-b62a-8c4a518c6d4f"><con:settings/><con:testStep type="httprequest" name="Send Locate"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="Send Locate" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#TestSuite#EndPoint}/api/VehicleManagement/1.0/Vehicle/Locate?VIN=${#TestSuite#Vin.Registered}</con:endpoint><con:request/><con:credentials><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="transfer" name="Determine Correlation ID"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="true" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>CorrelationId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Send Locate</con:sourceStep><con:sourcePath>(//*[local-name()='RequestId'])[1]</con:sourcePath><con:targetType>CorrelationId</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="httprequest" name="Get Response"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="Get Response" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#TestSuite#EndPoint}/api/VehicleManagement/1.0/Request/${#TestCase#CorrelationId}/RequestStatus</con:endpoint><con:request/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>boolean(/*[local-name()='Response']/*[local-name()='RequestType']/text())</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="transfer" name="Determine Status"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>PendingState</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Response</con:sourceStep><con:sourcePath>(//*[local-name()='RequestStateName'])[1]</con:sourcePath><con:targetType>CurrentState</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Wait for Completion"><con:settings/><con:config><script>if (context.limit-- == 0) {
  assert false
}

if (testRunner.testCase.getPropertyValue("CurrentState") == 'Pending')
{ 
  sleep(2000 + (5 - context.limit) * 720)
  log.info " - must make another Polling Request (${context.limit} requests remaining) for response to '${testRunner.testCase.getName()}' request; latest RequestId = '${testRunner.testCase.getPropertyValue("CorrelationId")}'"
  testRunner.gotoStepByName("Get Response")
}
else
{
  log.info " - got SUCCESS for '${testRunner.testCase.getName()}' with CorrelationID = '${testRunner.testCase.getPropertyValue("CorrelationId")}'"
  assert true
}</script></con:config></con:testStep><con:setupScript>context.limit = 5</con:setupScript><con:properties><con:property><con:name>CorrelationId</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">2148</con:value></con:property><con:property><con:name>CurrentState</con:name><con:value>Success</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Disable Starter" searchProperties="true" id="0ea009fc-5466-42e2-909c-16590b316a79"><con:settings/><con:testStep type="httprequest" name="Send Disable Starter"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="Send Disable Starter" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#TestSuite#EndPoint}/api/VehicleManagement/1.0/Vehicle/DisableStarter?VIN=${#TestSuite#Vin.Registered}</con:endpoint><con:request/><con:credentials><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="transfer" name="Determine Correlation ID"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="true" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>CorrelationId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Send Disable Starter</con:sourceStep><con:sourcePath>(//*[local-name()='RequestId'])[1]</con:sourcePath><con:targetType>CorrelationId</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="httprequest" name="Get Response"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="Get Response" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#TestSuite#EndPoint}/api/VehicleManagement/1.0/Request/${#TestCase#CorrelationId}/RequestStatus</con:endpoint><con:request/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>boolean(/*[local-name()='Response']/*[local-name()='RequestType']/text())</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="transfer" name="Determine Status"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>PendingState</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Response</con:sourceStep><con:sourcePath>(//*[local-name()='RequestStateName'])[1]</con:sourcePath><con:targetType>CurrentState</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Wait for Completion"><con:settings/><con:config><script>if (context.limit-- == 0) {
  assert false
}

if (testRunner.testCase.getPropertyValue("CurrentState") == 'Pending')
{ 
  sleep(2000 + (5 - context.limit) * 720)
  log.info " - must make another Polling Request (${context.limit} requests remaining) for response to '${testRunner.testCase.getName()}' request; latest RequestId = '${testRunner.testCase.getPropertyValue("CorrelationId")}'"
  testRunner.gotoStepByName("Get Response")
}
else
{
  log.info " - got SUCCESS for '${testRunner.testCase.getName()}' with CorrelationID = '${testRunner.testCase.getPropertyValue("CorrelationId")}'"
  assert true
}</script></con:config></con:testStep><con:setupScript>context.limit = 5</con:setupScript><con:properties><con:property><con:name>CorrelationId</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">2149</con:value></con:property><con:property><con:name>CurrentState</con:name><con:value>Success</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Enable Starter" searchProperties="true" id="620c2b84-27a2-4fab-9c4d-2d442053e5ad"><con:settings/><con:testStep type="httprequest" name="Send Enable Starter"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="Send Enable Starter" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#TestSuite#EndPoint}/api/VehicleManagement/1.0/Vehicle/EnableStarter?VIN=${#TestSuite#Vin.Registered}</con:endpoint><con:request/><con:credentials><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="transfer" name="Determine Correlation ID"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="true" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>CorrelationId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Send Enable Starter</con:sourceStep><con:sourcePath>(//*[local-name()='RequestId'])[1]</con:sourcePath><con:targetType>CorrelationId</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="httprequest" name="Get Response"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="Get Response" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#TestSuite#EndPoint}/api/VehicleManagement/1.0/Request/${#TestCase#CorrelationId}/RequestStatus</con:endpoint><con:request/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>boolean(/*[local-name()='Response']/*[local-name()='RequestType']/text())</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="transfer" name="Determine Status"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>PendingState</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Response</con:sourceStep><con:sourcePath>(//*[local-name()='RequestStateName'])[1]</con:sourcePath><con:targetType>CurrentState</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Wait for Completion"><con:settings/><con:config><script>if (context.limit-- == 0) {
  assert false
}

if (testRunner.testCase.getPropertyValue("CurrentState") == 'Pending')
{ 
  sleep(2000 + (5 - context.limit) * 720)
  log.info " - must make another Polling Request (${context.limit} requests remaining) for response to '${testRunner.testCase.getName()}' request; latest RequestId = '${testRunner.testCase.getPropertyValue("CorrelationId")}'"
  testRunner.gotoStepByName("Get Response")
}
else
{
  log.info " - got SUCCESS for '${testRunner.testCase.getName()}' with CorrelationID = '${testRunner.testCase.getPropertyValue("CorrelationId")}'"
  assert true
}</script></con:config></con:testStep><con:setupScript>context.limit = 5</con:setupScript><con:properties><con:property><con:name>CorrelationId</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">2150</con:value></con:property><con:property><con:name>CurrentState</con:name><con:value>Success</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Reservations" searchProperties="true" id="60fb4386-2e1b-49eb-bce3-1a8a5c040422"><con:settings/><con:testStep type="httprequest" name="Create Reservation"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="Create Reservation" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#TestSuite#EndPoint}/api/reservations/1.0/reservation</con:endpoint><con:request><![CDATA[<FlexKitReservationModel xmlns:i="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://schemas.datacontract.org/2004/07/Mobilogix.MToM.EHI.Models">
  <AccessTypes>
    <FlexAccessTypeModel>
      <Keys xmlns:d4p1="http://schemas.microsoft.com/2003/10/Serialization/Arrays">
        <d4p1:string>D06AB100</d4p1:string>
      </Keys>
      <Type>MIFARE</Type>
    </FlexAccessTypeModel>
  </AccessTypes>
  <EndDate>2014-11-05T18:27:52.9068356+00:00</EndDate>
  <Reference>NicholeRes123</Reference>
  <StartDate>2014-11-05T19:27:52.9068356+00:00</StartDate>
  <Type>Prebook</Type>
  <Vehicles>
    <VINs xmlns:d3p1="http://schemas.microsoft.com/2003/10/Serialization/Arrays">
      <d3p1:string>${#TestSuite#Vin.Registered}</d3p1:string>
    </VINs>
  </Vehicles>
</FlexKitReservationModel>
]]></con:request><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>(//*[local-name()='Id'])[1]</path><content>*</content><allowWildcards>true</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>CorrelationId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Create Reservation</con:sourceStep><con:sourcePath>(//*[local-name()='Id'])[1]</con:sourcePath><con:targetType>CorrelationId</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="httprequest" name="Send Request"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="Send Request" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#TestSuite#EndPoint}/api/reservations/1.0/reservations?VIN=${#TestSuite#Vin.Registered}</con:endpoint><con:request/><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>${#TestCase#CorrelationId}</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="DELETE Reservation"><con:settings/><con:config method="DELETE" xsi:type="con:HttpRequest" name="DELETE Reservation" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#TestSuite#EndPoint}/api/reservations/1.0/reservation/${#TestCase#CorrelationId}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="Send Request2"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="Send Request2" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#TestSuite#EndPoint}/api/reservations/1.0/reservations?VIN=${#TestSuite#Vin.Registered}</con:endpoint><con:request/><con:assertion type="Simple NotContains" name="Not Contains"><con:configuration><token>${#TestCase#CorrelationId}</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:properties><con:property><con:name>CorrelationId</con:name><con:value>156</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="POSTOdometer" searchProperties="true" id="1c2b6591-d789-434b-8ef4-c80b4478181e"><con:settings/><con:testStep type="httprequest" name="Od2"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="Od2" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#TestSuite#EndPoint}/api/VehicleManagement/1.0/Vehicle/Odometer?VIN=${#TestSuite#Vin.Registered}</con:endpoint><con:request/><con:credentials><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="transfer" name="Determine Correlation ID"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="true" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>CorrelationId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Od2</con:sourceStep><con:sourcePath>(//*[local-name()='RequestId'])[1]</con:sourcePath><con:targetType>CorrelationId</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="httprequest" name="Get Response"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="Get Response" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#TestSuite#EndPoint}/api/VehicleManagement/1.0/Request/${#TestCase#CorrelationId}/RequestStatus</con:endpoint><con:request/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>boolean(/*[local-name()='Response']/*[local-name()='RequestType']/text())</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="transfer" name="Determine Status"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>PendingState</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Response</con:sourceStep><con:sourcePath>(//*[local-name()='RequestStateName'])[1]</con:sourcePath><con:targetType>CurrentState</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Wait for Completion"><con:settings/><con:config><script>if (context.limit-- == 0) {
  assert false
}

if (testRunner.testCase.getPropertyValue("CurrentState") == 'Pending')
{ 
  sleep(2000 + (5 - context.limit) * 720)
  log.info " - must make another Polling Request (${context.limit} requests remaining) for response to '${testRunner.testCase.getName()}' request; latest RequestId = '${testRunner.testCase.getPropertyValue("CorrelationId")}'"
  testRunner.gotoStepByName("Get Response")
}
else
{
  log.info " - got SUCCESS for '${testRunner.testCase.getName()}' with CorrelationID = '${testRunner.testCase.getPropertyValue("CorrelationId")}'"
  assert true
}</script></con:config></con:testStep><con:setupScript>context.limit = 5</con:setupScript><con:properties><con:property><con:name>CorrelationId</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">2153</con:value></con:property><con:property><con:name>CurrentState</con:name><con:value>Success</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="POSTLocation" searchProperties="true" id="701d7ae7-64d7-452a-b388-9dee0f13175f"><con:settings/><con:testStep type="httprequest" name="Location2"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="Location2" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#TestSuite#EndPoint}/api/VehicleManagement/1.0/Vehicle/Location?VIN=${#TestSuite#Vin.Registered}</con:endpoint><con:request/><con:credentials><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="transfer" name="Determine Correlation ID"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="true" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>CorrelationId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Location2</con:sourceStep><con:sourcePath>(//*[local-name()='RequestId'])[1]</con:sourcePath><con:targetType>CorrelationId</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="httprequest" name="Get Response"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="Get Response" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#TestSuite#EndPoint}/api/VehicleManagement/1.0/Request/${#TestCase#CorrelationId}/RequestStatus</con:endpoint><con:request/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>boolean(/*[local-name()='Response']/*[local-name()='RequestType']/text())</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="transfer" name="Determine Status"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>PendingState</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Response</con:sourceStep><con:sourcePath>(//*[local-name()='RequestStateName'])[1]</con:sourcePath><con:targetType>CurrentState</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Wait for Completion"><con:settings/><con:config><script>if (context.limit-- == 0) {
  assert false
}

if (testRunner.testCase.getPropertyValue("CurrentState") == 'Pending')
{ 
  sleep(2000 + (5 - context.limit) * 720)
  log.info " - must make another Polling Request (${context.limit} requests remaining) for response to '${testRunner.testCase.getName()}' request; latest RequestId = '${testRunner.testCase.getPropertyValue("CorrelationId")}'"
  testRunner.gotoStepByName("Get Response")
}
else
{
  log.info " - got SUCCESS for '${testRunner.testCase.getName()}' with CorrelationID = '${testRunner.testCase.getPropertyValue("CorrelationId")}'"
  assert true
}</script></con:config></con:testStep><con:setupScript>context.limit = 5</con:setupScript><con:properties><con:property><con:name>CorrelationId</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">2154</con:value></con:property><con:property><con:name>CurrentState</con:name><con:value>Success</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="POSTFuelPercent" searchProperties="true" id="dabd9aa1-4025-4b70-97fd-db5a8a8d382b"><con:settings/><con:testStep type="httprequest" name="FuelPercent2"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="FuelPercent2" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#TestSuite#EndPoint}/api/VehicleManagement/1.0/Vehicle/FuelPercent?VIN=${#TestSuite#Vin.Registered}</con:endpoint><con:request/><con:credentials><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="transfer" name="Determine Correlation ID"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="true" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>CorrelationId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>FuelPercent2</con:sourceStep><con:sourcePath>(//*[local-name()='RequestId'])[1]</con:sourcePath><con:targetType>CorrelationId</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="httprequest" name="Get Response"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="Get Response" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#TestSuite#EndPoint}/api/VehicleManagement/1.0/Request/${#TestCase#CorrelationId}/RequestStatus</con:endpoint><con:request/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>boolean(/*[local-name()='Response']/*[local-name()='RequestType']/text())</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="transfer" name="Determine Status"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>PendingState</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Response</con:sourceStep><con:sourcePath>(//*[local-name()='RequestStateName'])[1]</con:sourcePath><con:targetType>CurrentState</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Wait for Completion"><con:settings/><con:config><script>if (context.limit-- == 0) {
  assert false
}

if (testRunner.testCase.getPropertyValue("CurrentState") == 'Pending')
{ 
  sleep(2000 + (5 - context.limit) * 720)
  log.info " - must make another Polling Request (${context.limit} requests remaining) for response to '${testRunner.testCase.getName()}' request; latest RequestId = '${testRunner.testCase.getPropertyValue("CorrelationId")}'"
  testRunner.gotoStepByName("Get Response")
}
else
{
  log.info " - got SUCCESS for '${testRunner.testCase.getName()}' with CorrelationID = '${testRunner.testCase.getPropertyValue("CorrelationId")}'"
  assert true
}</script></con:config></con:testStep><con:setupScript>context.limit = 5</con:setupScript><con:properties><con:property><con:name>CorrelationId</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">2155</con:value></con:property><con:property><con:name>CurrentState</con:name><con:value>Success</con:value></con:property></con:properties></con:testCase><con:properties><con:property><con:name>Vin.Registered</con:name><con:value>1G11E5SL2EF276137</con:value></con:property><con:property><con:name>EndPoint</con:name><con:value>http://ehi.gloitech.com</con:value></con:property></con:properties></con:testSuite><con:properties/><con:wssContainer/><con:oAuth2ProfileContainer/><con:sensitiveInformation/></con:soapui-project>